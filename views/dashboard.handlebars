<div class="row">
  <div class="col-auto">
    <h2 class="text-2xl font-bold  mb-4 border-b-4 border-b-gray-300">Welcome {{name}}!</h2>
  </div>
</div>

  <div class="mt-5 mb-5">
        <button class="border-2 border-indigo-700 bg-indigo-700 text-white py-1 px-5 w-52 rounded-md hover:bg-transparent hover:text-indigo-700 font-semibold" id="btnShowCreatePost">Create a new post</button>
  </div>

<div id="divCreatePost" class="flex justify-center items-center hidden">
  <div class="w-96 p-6 shadow-lg bg-gray-400 rounded-md">
    <h1 class="text-3xl block text-center font-semibold"><i class="fa-solid fa-user"></i>Create a New Post</h1>

    <form class="form new-post-form">
      <div class="form-group mt-5">
        <label for="post-title" class="block text-base mb-1 ">Title:</label>
        <input class="form-input border w-full text-base ps-2 py-1 focus:outline-none focus:ring-0 focus:border-gray-600" type="text" id="post-title" name="post-title" />
      </div>
      <div class="form-group mt-5">
        <label for="post-description" class="block text-base mb-1 ">Description:</label>
        <textarea class="form-input border w-full text-base ps-2 py-1 focus:outline-none focus:ring-0 focus:border-gray-600" id="post-description" name="post-description"></textarea>
      </div>
      <div class="form-group mt-5">
        <button class="border-2 border-indigo-700 bg-indigo-700 text-white py-1 px-5 w-full rounded-md hover:bg-transparent hover:text-indigo-700 font-semibold" type="submit">Create Post</button>
      </div>
    </form>
  </div>
</div>

  {{#if posts.length}}
  <div>
    <div class="text-2xl font-bold  mb-4">My Posts</div>
    {{#each posts as |post|}}
    <div class="border-2  border-cyan-700 pl-3 bg-indigo-700 text-lg text-white py-2 w-auto font-semibold rounded-t-md">
        <a class="hover:text-red-300" href="/api/posts/{{post.id}}">{{post.title}}</a>
      </div>
      <hr>
      <div class="w-auto p-6 shadow-lg bg-gray-400 rounded-b-md mb-5">
        <div class="mb-4">
          <p>
            {{post.description}}
          </p>
        </div>
        <div class="bg-blue-400 pl-1">
          <p>Created on {{format_date post.createdAt}}</p>
        </div>
          <div id="divEdit{{post.id}}" class="mt-5 hidden">
            <label for="editdescription{{post.id}}" class="block text-base mb-1 ">Description:</label>
            <textarea class="form-input border w-full text-base ps-2 py-1 focus:outline-none focus:ring-0 focus:border-gray-600" id="editdescription{{post.id}}" name="editdescription{{post.id}}">{{post.description}}</textarea>
            <div class="">
              <button class="border-2 border-indigo-700 bg-indigo-700 text-white py-1 px-5 rounded-md hover:bg-transparent hover:text-red-500 mt-2 font-semibold update-post" data-id="{{post.id}}" onclick="updateButtonHandler(this);">Save changes</button>
            </div>
          </div>
          <div class="">
            <button class="border-2 border-indigo-700 bg-indigo-700 text-white py-1 px-5 rounded-md hover:bg-transparent hover:text-red-500 mt-2 font-semibold edit-post" data-id="{{post.id}}" onclick="editButtonHandler(this);">Edit</button>
          </div>
          <div class="">
            <button class="border-2 border-indigo-700 bg-indigo-700 text-white py-1 px-5 rounded-md hover:bg-transparent hover:text-red-500 mt-2 font-semibold delete-post" data-id="{{post.id}}">Delete</button>
          </div>
      </div>
    {{/each}}
  </div>
  {{/if}}

<script src="../js/post.js"></script>
